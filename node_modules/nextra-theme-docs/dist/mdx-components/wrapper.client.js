"use client";
import { Fragment, jsx, jsxs } from "react/jsx-runtime";
import { c as _c } from "react-compiler-runtime";
import cn from "clsx";
import { cloneElement, useEffect } from "react";
import { Breadcrumb, Pagination, TOC } from "../components";
import { setToc, useConfig, useThemeConfig } from "../stores";
const ClientWrapper = (t0) => {
  const $ = _c(32);
  const {
    toc,
    children,
    metadata,
    bottomContent
  } = t0;
  const {
    activeType,
    activeThemeContext: themeContext,
    activePath
  } = useConfig().normalizePagesResult;
  const themeConfig = useThemeConfig();
  const date = themeContext.timestamp && metadata.timestamp;
  let t1;
  let t2;
  if ($[0] !== toc) {
    t1 = () => {
      setToc(toc);
    };
    t2 = [toc];
    $[0] = toc;
    $[1] = t1;
    $[2] = t2;
  } else {
    t1 = $[1];
    t2 = $[2];
  }
  useEffect(t1, t2);
  let t3;
  if ($[3] !== activeType || $[4] !== metadata || $[5] !== themeConfig || $[6] !== themeContext.layout || $[7] !== themeContext.toc || $[8] !== toc) {
    t3 = themeContext.layout !== "full" && /* @__PURE__ */ jsx("nav", { className: "nextra-toc x:order-last x:max-xl:hidden x:w-64 x:shrink-0 x:print:hidden", "aria-label": "table of contents", children: themeContext.toc && activeType !== "page" && /* @__PURE__ */ jsx(TOC, { toc: themeConfig.toc.float ? toc : [], filePath: metadata.filePath, pageTitle: metadata.title }) });
    $[3] = activeType;
    $[4] = metadata;
    $[5] = themeConfig;
    $[6] = themeContext.layout;
    $[7] = themeContext.toc;
    $[8] = toc;
    $[9] = t3;
  } else {
    t3 = $[9];
  }
  const t4 = themeContext.typesetting === "article" && "nextra-body-typesetting-article";
  let t5;
  if ($[10] !== t4) {
    t5 = cn("x:w-full x:min-w-0 x:break-words x:min-h-[calc(100vh-var(--nextra-navbar-height))]", "x:text-slate-700 x:dark:text-slate-200 x:pb-8 x:px-6 x:pt-4 x:md:px-12", t4);
    $[10] = t4;
    $[11] = t5;
  } else {
    t5 = $[11];
  }
  let t6;
  if ($[12] !== activePath || $[13] !== activeType || $[14] !== themeContext.breadcrumb) {
    t6 = themeContext.breadcrumb && activeType !== "page" && /* @__PURE__ */ jsx(Breadcrumb, { activePath });
    $[12] = activePath;
    $[13] = activeType;
    $[14] = themeContext.breadcrumb;
    $[15] = t6;
  } else {
    t6 = $[15];
  }
  let t7;
  if ($[16] !== date || $[17] !== themeConfig) {
    t7 = date ? /* @__PURE__ */ jsx("div", { className: "x:mt-12 x:mb-8 x:text-xs x:text-gray-500 x:text-end x:dark:text-gray-400", children: cloneElement(themeConfig.lastUpdated, {
      date: new Date(date)
    }) }) : /* @__PURE__ */ jsx("div", { className: "x:mt-16" });
    $[16] = date;
    $[17] = themeConfig;
    $[18] = t7;
  } else {
    t7 = $[18];
  }
  let t8;
  if ($[19] !== activeType || $[20] !== themeContext.pagination) {
    t8 = themeContext.pagination && activeType !== "page" && /* @__PURE__ */ jsx(Pagination, {});
    $[19] = activeType;
    $[20] = themeContext.pagination;
    $[21] = t8;
  } else {
    t8 = $[21];
  }
  let t9;
  if ($[22] !== bottomContent || $[23] !== children || $[24] !== t5 || $[25] !== t6 || $[26] !== t7 || $[27] !== t8) {
    t9 = /* @__PURE__ */ jsxs("article", { className: t5, children: [
      t6,
      children,
      t7,
      t8,
      bottomContent
    ] });
    $[22] = bottomContent;
    $[23] = children;
    $[24] = t5;
    $[25] = t6;
    $[26] = t7;
    $[27] = t8;
    $[28] = t9;
  } else {
    t9 = $[28];
  }
  let t10;
  if ($[29] !== t3 || $[30] !== t9) {
    t10 = /* @__PURE__ */ jsxs(Fragment, { children: [
      t3,
      t9
    ] });
    $[29] = t3;
    $[30] = t9;
    $[31] = t10;
  } else {
    t10 = $[31];
  }
  return t10;
};
export {
  ClientWrapper
};
