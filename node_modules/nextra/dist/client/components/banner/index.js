import { jsx, jsxs } from "react/jsx-runtime";
import { c as _c } from "react-compiler-runtime";
import cn from "clsx";
import { XIcon } from "../../icons/index.js";
import { CloseBannerButton } from "./index.client.js";
const CLASS_NAME = "nextra-banner";
const Banner = (t0) => {
  const $ = _c(11);
  const {
    children,
    dismissible: t1,
    storageKey: t2
  } = t0;
  const dismissible = t1 === void 0 ? true : t1;
  const storageKey = t2 === void 0 ? "nextra-banner" : t2;
  if (!children) {
    return null;
  }
  const hideBannerScript = `try{document.querySelector('.${CLASS_NAME}').classList.toggle('x:hidden',localStorage.getItem(${JSON.stringify(storageKey)}))}catch(e){}`;
  let t3;
  let t4;
  if ($[0] === Symbol.for("react.memo_cache_sentinel")) {
    t3 = {
      height: "var(--nextra-banner-height)"
    };
    t4 = cn(CLASS_NAME, "x:max-md:sticky x:top-0 x:z-20 x:flex x:items-center", "x:text-slate-50 x:dark:text-white x:bg-neutral-900 x:dark:bg-[linear-gradient(1deg,#383838,#212121)]", "x:px-2", "x:print:[display:none]");
    $[0] = t3;
    $[1] = t4;
  } else {
    t3 = $[0];
    t4 = $[1];
  }
  let t5;
  if ($[2] !== children) {
    t5 = /* @__PURE__ */ jsx("div", { className: "x:w-full x:whitespace-nowrap x:overflow-x-auto x:text-center x:font-medium x:text-sm", children });
    $[2] = children;
    $[3] = t5;
  } else {
    t5 = $[3];
  }
  let t6;
  if ($[4] !== dismissible || $[5] !== hideBannerScript || $[6] !== storageKey) {
    t6 = dismissible && /* @__PURE__ */ jsxs(CloseBannerButton, { storageKey, children: [
      /* @__PURE__ */ jsx("script", { dangerouslySetInnerHTML: {
        __html: hideBannerScript
      } }),
      /* @__PURE__ */ jsx(XIcon, { height: "16" })
    ] });
    $[4] = dismissible;
    $[5] = hideBannerScript;
    $[6] = storageKey;
    $[7] = t6;
  } else {
    t6 = $[7];
  }
  let t7;
  if ($[8] !== t5 || $[9] !== t6) {
    t7 = /* @__PURE__ */ jsxs("div", { suppressHydrationWarning: true, style: t3, className: t4, children: [
      t5,
      t6
    ] });
    $[8] = t5;
    $[9] = t6;
    $[10] = t7;
  } else {
    t7 = $[10];
  }
  return t7;
};
export {
  Banner
};
